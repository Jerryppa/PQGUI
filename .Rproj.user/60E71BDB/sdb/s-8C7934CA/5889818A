{
    "contents" : "\nSIM_DATA <- function (set_parameter) \n{\n  pathogen_BrS <- set_parameter$pathogen_BrS\n  cause_list <- set_parameter$cause_list\n  PsiBS <- set_parameter$PsiBS\n  ThetaBS <- set_parameter$ThetaBS  \n  PsiSS <- set_parameter$PsiSS\n  ThetaSS <- set_parameter$ThetaSS\n  Nd <- set_parameter$Nd\n  Nu <- set_parameter$Nu\n  Lambda <- set_parameter$Lambda\n  Eta <- set_parameter$Eta\n  etiology <- set_parameter$etiology\n  J_BrS <- length(pathogen_BrS)\n  Jcause <- length(cause_list)\n  iLcat <- rep(NA, Nd)\n  iLall <- matrix(NA, nrow = Nd + Nu, ncol = J_BrS)\n  etiologyMat <- matrix(NA, nrow = Nd, ncol = Jcause)\n  for (i in 1:Nd) {\n    etiologyMat[i, ] <- etiology\n    iLcat[i] <- sample(cause_list, 1, prob = etiologyMat[i, \n                                                         ])\n  }\n  iL <- symb2I(iLcat, pathogen_BrS)\n  iLall <- rbind(iL, matrix(0, nrow = Nu, ncol = J_BrS))\n  iLcat.case.numeric <- Imat2cat(iL, cause_list, pathogen_BrS)\n  iLcatAllnumeric <- c(iLcat.case.numeric, rep(Jcause + 1, \n                                               Nu))\n  Zd <- rep(NA, Nd)\n  Md <- matrix(NA, nrow = Nd, ncol = J_BrS)\n  MdP.BS <- Md\n  for (i in 1:Nd) {\n    for (j in 1:J_BrS) {\n      MdP.BS[i, j] = PsiBS[j] * (1 - iL[i, j]) + iL[i, \n                                                    j] * ThetaBS[j]\n    }\n  }\n  MdP.BS <- rvbern(MdP.BS)\n  MdP.SS <- Md\n  for (i in 1:Nd) {\n    for (j in 1:J_BrS) {\n      MdP.SS[i, j] = PsiSS[j] * (1 - iL[i, j]) + iL[i, \n                                                    j] * ThetaSS[j]\n    }\n  }\n  MdP.SS <- rvbern(MdP.SS)\n  Zu <- rep(NA, Nu)\n  \n  Mu <- matrix(NA, nrow = Nu, ncol = J_BrS)\n  MuP.BS <- matrix(NA, nrow = Nu, ncol = J_BrS)\n  for (i in 1:Nu) {\n    Zu[i] <- 1\n    for (j in 1:J_BrS) {\n      MuP.BS[i, j] <- PsiBS[j]\n    }\n  }\n  MuP.BS <- rvbern(MuP.BS)\n  \n  MuP.SS <- matrix(NA, nrow = Nu, ncol = J_BrS)\n  for (i in 1:Nu) {\n    for (j in 1:J_BrS) {\n      MuP.SS[i, j] <- PsiSS[j]\n    }\n  }\n  MuP.SS <- rvbern(MuP.SS)  \n  \n  Y <- data.frame(Y = c(rep(1, Nd), rep(0, Nu)))\n  colnames(Y)=\"Y\"\n  iL <- data.frame(iLcat = iLcatAllnumeric, \n                   iL = iLall)\n  colnames(iL) =c(\"iLcat\", paste(\"iL\", pathogen_BrS, \n                                 sep = \"_\"))\n  MBS = data.frame(rbind(MdP.BS,MuP.BS))\n  colnames(MBS)=paste(pathogen_BrS,\"NPPCR\", sep = \"_\")\n  MSS = data.frame(rbind(MdP.SS,MuP.SS))\n  colnames(MSS)=paste(pathogen_BrS,\"BCX\", sep = \"_\")\n  \n  Mobs = list(MBS=MBS,MSS=MSS)\n  \n  template <- as.matrix(rbind(symb2I(cause_list, pathogen_BrS), \n                              rep(0, J_BrS)))\n  colnames(template) <- pathogen_BrS\n  rownames(template) <- c(cause_list, \"control\")\n  return(list(template = template,\n              pathogen_BrS=pathogen_BrS,\n              cause_list=cause_list,\n              Y=Y,\n              iL=iL,\n              Mobs=Mobs))\n}\n\n\n",
    "created" : 1428519342759.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2581432937",
    "id" : "5889818A",
    "lastKnownWriteTime" : 1428519351,
    "path" : "C:/Users/WFu/Google Drive/PERCH/2_PQ_MODEL/PQM_Project/PQGUI/SIM_DATA.R",
    "project_path" : "SIM_DATA.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}